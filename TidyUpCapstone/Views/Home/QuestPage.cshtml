@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Daily Quests";
    ViewData["PageType"] = "quest"; // This integrates with your layout system
}

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Righteous&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="~/css/QuestPage.css" asp-append-version="true" />

<script>
    // Add page-specific class to body - this works with your layout system
    document.addEventListener('DOMContentLoaded', function() {
        document.body.classList.add('quest-page');
    });
</script>

<!-- Quest Page Content - No main-content wrapper since it's in _Layout.cshtml -->
<div class="quest-page-container">
    <!-- Header Section -->
    <div class="quest-header">
        <h1 class="quest-title righteous-font">DAILY QUESTS</h1>
    </div>

    <!-- Main Content Area -->
    <div class="quest-content-wrapper">
        <!-- Quest Illustration - Hidden on mobile, shown on desktop -->
        <div class="quest-illustration-container">
            <img src="~/assets/quest_image1.png" alt="Quest Illustration" class="quest-illustration" />
        </div>

        <!-- Quest Cards Container -->
        <div class="quest-cards-container">
            <!-- Quest Card 1 -->
            <div class="quest-card">
                <div class="quest-card-content">
                    <div class="quest-info">
                        <div class="quest-timer">24 HOURS REMAINING</div>
                        <h3 class="quest-name righteous-font">Declutter Dash</h3>
                        <p class="quest-description">Upload 3 items today</p>
                    </div>
                    <div class="quest-reward">
                        <span class="reward-points">+15</span>
                        <button class="claim-button claim-disabled">
                            Claim
                        </button>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 60%"></div>
                </div>
            </div>

            <!-- Quest Card 2 -->
            <div class="quest-card">
                <div class="quest-card-content">
                    <div class="quest-info">
                        <div class="quest-timer">21 HOURS REMAINING</div>
                        <h3 class="quest-name righteous-font">Declutter Dash</h3>
                        <p class="quest-description">Upload 3 items today</p>
                    </div>
                    <div class="quest-reward">
                        <span class="reward-points">+15</span>
                        <button class="claim-button claim-active">
                            Claim
                        </button>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 100%"></div>
                </div>
            </div>

            <!-- Quest Card 3 -->
            <div class="quest-card">
                <div class="quest-card-content">
                    <div class="quest-info">
                        <div class="quest-timer">21 HOURS REMAINING</div>
                        <h3 class="quest-name righteous-font">Declutter Dash</h3>
                        <p class="quest-description">Upload 3 items today</p>
                    </div>
                    <div class="quest-reward">
                        <span class="reward-points">+15</span>
                        <button class="claim-button claim-active">
                            Claim
                        </button>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 100%"></div>
                </div>
            </div>

            <!-- Quest Card 4 -->
            <div class="quest-card">
                <div class="quest-card-content">
                    <div class="quest-info">
                        <div class="quest-timer">21 HOURS REMAINING</div>
                        <h3 class="quest-name righteous-font">Declutter Dash</h3>
                        <p class="quest-description">Upload 3 items today</p>
                    </div>
                    <div class="quest-reward">
                        <span class="reward-points">+15</span>
                        <button class="claim-button claim-active">
                            Claim
                        </button>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 100%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Achievements Section -->
    <div class="achievements-section">
        <div class="achievement-container">
            <!-- Profile Avatar -->
            <div class="profile-avatar-section">
                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"
                     alt="Profile"
                     class="profile-avatar">
            </div>

            <!-- Achievement Title -->
            <div class="achievement-title-section">
                <h3 class="achievement-badge righteous-font">Fresh Starter</h3>
                <div class="achievement-subtitle">Every journey begins with a single item!</div>
            </div>

            <!-- Main Achievement -->
            <div class="achievement-main-section">
                <div class="achievement-text-card">
                    <p>You've let go of your first item - small steps, big change.</p>
                </div>
                <div class="achievement-icon-wrapper">
                    <img src="~/items/first_uploaded.png" alt="First Upload Achievement" />
                </div>
                <div class="streak-card">
                    <h3 class="streak-title righteous-font">7-Day Log in Streak</h3>
                    <p class="streak-description">You've shown up for 7 days straight! Consistency is key. +10 tokens</p>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="achievement-stats-section">
                <div class="token-stats-card">
                    <div class="token-number">50</div>
                    <div class="token-label">Tokens Collected</div>
                </div>
                <div class="items-stats">
                    <div class="items-text">Uploaded 5 Unique Items</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Flowing Menu Integration -->
    <div class="quest-flowing-menu">
        <div class="flowing-menu-container">
            <nav class="flowing-nav" id="flowing-menu">
                <!-- Menu items will be populated by JavaScript -->
            </nav>
        </div>
    </div>
</div>

<script src="~/js/QuestPage.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="~/js/questPageFlowMenu.js"></script>
<!-- Quest-specific functionality -->
<script src="~/js/questInteractions.js" asp-append-version="true"></script>